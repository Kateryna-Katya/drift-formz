(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function m(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=m(t);fetch(t.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const f=()=>{typeof lucide<"u"&&lucide.createIcons()},c=()=>{const e=new Lenis({duration:1.2,easing:r=>Math.min(1,1.001-Math.pow(2,-10*r)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,touchMultiplier:2,infinite:!1});function o(r){e.raf(r),requestAnimationFrame(o)}requestAnimationFrame(o),e.on("scroll",ScrollTrigger.update),gsap.ticker.add(r=>{e.raf(r*1e3)}),gsap.ticker.lagSmoothing(0)},m=()=>{const e=document.getElementById("burger-menu"),o=document.getElementById("mobile-menu"),r=document.querySelectorAll(".mobile-nav__link"),g=document.body,i=()=>{e.classList.toggle("active"),o.classList.toggle("active"),g.style.overflow=o.classList.contains("active")?"hidden":""};e.addEventListener("click",i),r.forEach(d=>{d.addEventListener("click",()=>{o.classList.contains("active")&&i()})})},l=()=>{const e=document.querySelector(".header");window.addEventListener("scroll",()=>{window.scrollY>100?e.classList.add("header--scrolled"):e.classList.remove("header--scrolled")})},t=()=>{gsap.registerPlugin(ScrollTrigger);const e=document.querySelector("#hero-title");if(e){const o=new SplitType(e,{types:"words, chars",tagName:"span"});gsap.timeline().from(o.chars,{opacity:0,y:100,rotateX:-90,stagger:.02,duration:1.2,ease:"expo.out",clearProps:"all"}).from(".hero__subtitle",{opacity:0,y:20,duration:1},"-=0.8").from(".hero__actions",{opacity:0,y:20,duration:1},"-=0.8")}gsap.utils.toArray(".benefit-card").forEach((o,r)=>{gsap.from(o,{scrollTrigger:{trigger:o,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:50,duration:.8,delay:r*.1})}),gsap.to(".img-tilt",{scrollTrigger:{trigger:".platform",start:"top bottom",end:"bottom top",scrub:!0},y:-50,rotate:0})},n=()=>{const e=document.getElementById("main-form");if(!e)return;const o=document.getElementById("phone-input"),r=document.getElementById("captcha-label"),g=document.getElementById("captcha-input"),i=document.getElementById("form-message"),d=Math.floor(Math.random()*10)+1,p=Math.floor(Math.random()*10)+1,h=d+p;r&&(r.innerText=`Подтвердите, что вы не робот: ${d} + ${p} = ?`),o.addEventListener("input",u=>{u.target.value=u.target.value.replace(/[^\d+]/g,"")}),e.addEventListener("submit",async u=>{if(u.preventDefault(),parseInt(g.value)!==h){i.textContent="Ошибка: Неверный ответ капчи.",i.style.color="#ff4d4d";return}const a=e.querySelector("button"),b=a.innerText;a.disabled=!0,a.innerText="Отправка...",i.textContent="";try{await new Promise(y=>setTimeout(y,2e3)),e.reset(),i.style.color="var(--color-accent)",i.textContent="Успешно! Мы перезвоним вам в течение дня.",setTimeout(()=>{i.textContent=""},5e3)}catch{i.textContent="Произошла ошибка. Попробуйте позже.",i.style.color="#ff4d4d"}finally{a.disabled=!1,a.innerText=b}})},s=()=>{const e=document.getElementById("cookie-popup"),o=document.getElementById("accept-cookies");localStorage.getItem("drift_cookies_accepted")||setTimeout(()=>{e.classList.add("show")},3e3),o.addEventListener("click",()=>{localStorage.setItem("drift_cookies_accepted","true"),e.classList.remove("show")})};f(),c(),m(),l(),t(),n(),s(),console.log("%c Drift-Formz Blog Engine Loaded ","background: #CCFF00; color: #000; font-weight: bold;")});
//# sourceMappingURL=main-Cq1hyDSq.js.map
